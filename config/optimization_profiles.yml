# Optimization Profiles for Different Workload Types
# Each profile defines parameter bounds, strategy, budget, and performance weights

profiles:
  database:
    workload_type: database
    strategy: BAYESIAN_ONLY
    evaluation_budget: 15
    time_budget: 180.0  # 3 minutes
    
    parameter_bounds:
      vm.swappiness: [1, 30]
      vm.dirty_ratio: [5, 20]
      vm.dirty_background_ratio: [2, 10]
      kernel.sched_cfs_bandwidth_slice_us: [2000, 10000]  # EEVDF parameter
      kernel.sched_latency_ns: [1000000, 12000000]        # EEVDF parameter
      net.core.rmem_max: [65536, 16777216]
      net.core.wmem_max: [65536, 16777216]
    
    performance_weights:
      cpu_efficiency: 0.2
      memory_efficiency: 0.3
      io_throughput: 0.4
      network_throughput: 0.1

  web_server:
    workload_type: web_server
    strategy: ADAPTIVE
    evaluation_budget: 12
    time_budget: 150.0
    
    parameter_bounds:
      vm.swappiness: [10, 60]
      net.core.rmem_max: [131072, 33554432]
      net.core.wmem_max: [131072, 33554432]
      net.core.netdev_max_backlog: [1000, 10000]
      kernel.sched_cfs_bandwidth_slice_us: [3000, 8000]   # EEVDF parameter
      kernel.sched_latency_ns: [2000000, 8000000]         # EEVDF parameter
    
    performance_weights:
      cpu_efficiency: 0.3
      memory_efficiency: 0.2
      io_throughput: 0.2
      network_throughput: 0.3

  hpc_compute:
    workload_type: hpc_compute
    strategy: GENETIC_ONLY
    evaluation_budget: 18
    time_budget: 240.0
    
    parameter_bounds:
      vm.swappiness: [1, 10]
      vm.dirty_ratio: [15, 40]
      kernel.sched_cfs_bandwidth_slice_us: [1000, 5000]   # EEVDF parameter
      kernel.sched_latency_ns: [1000000, 6000000]         # EEVDF parameter
      kernel.sched_rt_runtime_us: [800000, 980000]        # RT scheduler tuning
    
    performance_weights:
      cpu_efficiency: 0.5
      memory_efficiency: 0.3
      io_throughput: 0.1
      network_throughput: 0.1

  io_intensive:
    workload_type: io_intensive
    strategy: BAYESIAN_ONLY
    evaluation_budget: 10
    time_budget: 120.0
    
    parameter_bounds:
      vm.dirty_ratio: [5, 30]
      vm.dirty_background_ratio: [2, 15]
      vm.vfs_cache_pressure: [50, 200]
    
    performance_weights:
      cpu_efficiency: 0.2
      memory_efficiency: 0.2
      io_throughput: 0.6
      network_throughput: 0.0

  general:
    workload_type: general
    strategy: ADAPTIVE
    evaluation_budget: 10
    time_budget: 120.0
    
    parameter_bounds:
      vm.swappiness: [10, 80]
      vm.dirty_ratio: [10, 30]
      kernel.sched_cfs_bandwidth_slice_us: [1000, 4000]  # Fixed: microseconds (1-20ms)
    
    performance_weights:
      cpu_efficiency: 0.25
      memory_efficiency: 0.25
      io_throughput: 0.25
      network_throughput: 0.25
